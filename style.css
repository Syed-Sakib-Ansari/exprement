/* Custom Dark Red Theme */
:root {
    --color-primary-dark: #000000;
    --color-secondary-dark: #0f0f0f;
    --color-search-input: #1a1a1a;
    --color-accent: #E50914; /* Netflix Red */
}

/* LAYOUT FIX: Add top padding to body so content isn't hidden behind the fixed navbar.
    Mobile Navbar height approx 80px -> pt-20
    Desktop Navbar height approx 120px -> lg:pt-32
*/
body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--color-primary-dark);
    color: #E5E7EB;
    padding-top: 5rem; /* Mobile padding */
}

@media (min-width: 1024px) {
    body {
        padding-top: 8rem; /* Desktop padding */
    }
}

/* PERFORMANCE: Content Visibility */
.movie-card {
    content-visibility: auto;
    contain-intrinsic-size: 0 350px;
}

/* NAVBAR & HEADER STYLES */
.app-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.6); /* Slightly darker for better contrast */
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    z-index: 50;
}

/* Search input */
.search-input {
    background-color: rgba(30, 30, 30, 0.6);
    height: 44px;
    border-radius: 9999px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.search-input:focus {
    background-color: rgba(30, 30, 30, 0.9);
    border-color: var(--color-accent);
    box-shadow: 0 0 0 2px rgba(229, 9, 20, 0.2);
}

/* Grid System */
.movie-grid {
    display: grid;
    gap: 0.75rem;
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

@media (min-width: 640px) {
    .movie-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
        row-gap: 3rem;
    }
}

@media (min-width: 1025px) {
    .movie-grid {
        grid-template-columns: repeat(5, minmax(0, 1fr));
        row-gap: 3.40rem;
        column-gap: 1.30rem;
    }
}

/* NAVIGATION LINKS */
.nav-link-animated {
    position: relative;
    font-weight: 600;
    color: #d1d5db;
    transition: color 0.3s ease;
    font-size: 0.95rem;
}

.nav-link-animated:hover {
    color: white;
}

.nav-link-animated::after {
    content: '';
    position: absolute;
    width: 0;
    height: 2px;
    bottom: -4px;
    left: 50%;
    background-color: var(--color-accent);
    transition: all 0.3s ease-in-out;
    transform: translateX(-50%);
}

.nav-link-animated:hover::after {
    width: 100%;
}

/* Dropdown Item Animation */
.dropdown-item-animated {
    position: relative;
    transition: all 0.2s ease-in-out;
    border-left: 3px solid transparent;
    font-weight: 500;
}

.dropdown-item-animated:hover {
    background-color: rgba(255, 255, 255, 0.05);
    padding-left: 1.5rem;
    border-left-color: var(--color-accent);
    color: var(--color-accent);
}

/* HAMBURGER MENU */
.hamburger-line {
    display: block;
    width: 24px;
    height: 2px;
    margin: 3px auto;
    background-color: #E5E7EB;
    transition: all 0.3s ease-in-out;
    transform-origin: center;
}

#menu-toggle.open .hamburger-line:nth-child(1) { transform: translateY(8px) rotate(45deg); }
#menu-toggle.open .hamburger-line:nth-child(2) { opacity: 0; }
#menu-toggle.open .hamburger-line:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

/* SLIDER STYLES */
#hero-slider {
    position: relative;
    width: 100%;
    height: 85vh; 
    min-height: 600px;
    overflow: hidden;
    display: none;
    /* Negative margin to pull it up behind the fixed header if desired, 
        but since body has padding, we might want it to start flush.
        To make it sit BEHIND header, we remove body padding for home view or use absolute positioning.
        Better approach: Let it sit naturally and let body padding push it down, OR make slider absolute.
        Request said "slider also can view behind the navbar". 
        So we'll move slider UP into the padding area.
    */
    margin-top: -5rem; /* Pull up into mobile header space */
}
@media (min-width: 1024px) {
    #hero-slider {
        margin-top: -8rem; /* Pull up into desktop header space */
    }
}

.slide {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    opacity: 0;
    transition: opacity 1s ease-in-out;
}

.slide-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
}

.slide.active {
    opacity: 1;
    z-index: 10;
}

.slide-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 20%, rgba(0,0,0,0) 60%, rgba(0,0,0,0.95) 100%),
                linear-gradient(to right, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.5) 40%, rgba(0, 0, 0, 0.1) 100%);
    display: flex;
    align-items: center;
}

.slide-content {
    padding-left: 5%;
    max-width: 700px;
    z-index: 20;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease-out 0.3s;
    margin-top: 120px; /* Push content down to avoid header overlap */
}

.slide.active .slide-content {
    opacity: 1;
    transform: translateY(0);
}

.slider-dots {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 30;
}

.slider-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.3);
    cursor: pointer;
    transition: all 0.3s;
}

.slider-dot.active {
    background-color: var(--color-accent);
    transform: scale(1.3);
}

/* MODAL STYLES */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: rgba(0, 0, 0, 0.95);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    pointer-events: auto;
}

.modal-content {
    background-color: #000;
    width: 90%;
    max-width: 900px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
    border: 1px solid #333;
    transform: scale(0.95);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal-content {
    transform: scale(1);
}

.video-container {
    position: relative;
    padding-bottom: 56.25%;
    height: 0;
    background: #000;
}

.video-container iframe {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    border: none;
}

/* SEE ALL CARD */
.see-all-card-inner:hover {
    border-color: var(--color-accent);
}

.see-all-card-inner:hover .see-all-icon {
    transform: scale(1.1);
    background-color: var(--color-accent);
    color: white;
}

/* EPISODE SECTION CSS */
#episodeSidebar {
    background-color: #0a0a0a;
}

#episodeListWrapper {
    scrollbar-width: thin;
    scrollbar-color: #333 rgba(0,0,0,0.1);
}

#episodeListWrapper::-webkit-scrollbar { width: 4px; }
#episodeListWrapper::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
#episodeListWrapper::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
#episodeListWrapper::-webkit-scrollbar-thumb:hover { background: var(--color-accent); }

.episode-item {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid transparent;
    margin-bottom: 4px;
}

.episode-item:hover {
    background-color: rgba(255, 255, 255, 0.05);
    transform: translateX(4px);
}

.episode-item.active {
    background-color: rgba(229, 9, 20, 0.1);
    border-left: 3px solid var(--color-accent);
    border-color: rgba(229, 9, 20, 0.1);
    color: white;
}

.episode-number-badge {
    min-width: 24px; height: 24px;
    display: flex; align-items: center; justify-content: center;
    border-radius: 4px;
    background: rgba(255, 255, 255, 0.1);
    color: #9CA3AF;
    font-size: 11px; font-weight: 700;
}

.episode-item.active .episode-number-badge {
    background: var(--color-accent);
    color: white;
}